(this["webpackJsonpredux-exercise"]=this["webpackJsonpredux-exercise"]||[]).push([[0],{58:function(e,t,a){e.exports=a(83)},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),i=(a(63),a(64),a(65),function(e){return c.a.createElement("div",{className:"homePageDiv"},c.a.createElement("div",{className:"homePageBody"},c.a.createElement("h2",null,"Choose the Topic"),c.a.createElement("p",null,"You want to talk about"),c.a.createElement("ul",null,c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/greeting")},className:"topicGreeting"},c.a.createElement("span",null,"Greeting")),c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/food")},className:"topicFood"},c.a.createElement("span",null,"Food")),c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/movie")},className:"topicMovie"},c.a.createElement("span",null,"Movie")),c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/programming")},className:"topicProgramming"},c.a.createElement("span",null,"Programming")),c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/outdoor")},className:"topicOutdoor"},c.a.createElement("span",null,"Outdoor Activity")),c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/traveling")},className:"topicTraveling"},c.a.createElement("span",null,"Traveling")),c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/school")},className:"topicSchool"},c.a.createElement("span",null,"School")))))}),l=(a(66),a(14)),s=a(28),u=a.n(s),m=a(39),p="COMMENTLIST_SETUP",f="ADD_NEWCOMMENT",h=function(e){return{type:p,payload:e}},d=function(e){return{type:f,payload:e}},E=a(29),g=a.n(E);a(72),a(76);g.a.initializeApp({apiKey:"AIzaSyCIWtOYcNVbkFSc5zeTl1OD5ipu2NPmwiM",authDomain:"chat-app-8976e.firebaseapp.com",databaseURL:"https://chat-app-8976e.firebaseio.com",projectId:"chat-app-8976e",storageBucket:"chat-app-8976e.appspot.com",messagingSenderId:"622522794289",appId:"1:622522794289:web:a089a4b8f033367ac67010",measurementId:"G-Y5ZTFZ215Q"});g.a.auth();var v=g.a.firestore(),b=new g.a.auth.GoogleAuthProvider;b.setCustomParameters({prompt:"select_account"});var N=a(47),x=Object(N.a)([function(e){return e.comments}],(function(e){return e.commentList})),O=function(e){var t=e.comment;return c.a.createElement("li",null,c.a.createElement("p",{className:"commentData"},c.a.createElement("span",{className:"commentNo"},"No.",t.commentNo),c.a.createElement("span",{className:"commentName"},t.userName),c.a.createElement("span",{className:"commentDate"},t.date),c.a.createElement("span",{className:"commentTime"},t.time)),c.a.createElement("div",{className:"commentMessage"},c.a.createElement("p",null,t.message)))},y=(a(78),function(e){var t=e.topic,a=t+"BackGround",r=Object(l.b)(),o=Object(l.c)((function(e){return e})),i=x(o);return Object(n.useEffect)((function(){var e;r((e="chat-"+t,function(){var t=Object(m.a)(u.a.mark((function t(a,n){var c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=v.collection(e),r=[],t.next=4,c.orderBy("commentNo").get().then((function(e){e.forEach((function(e){var t=e.data();r.push(t)}))}));case 4:a(h(r));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".commentListWrapper");e.scrollTop=e.scrollHeight,console.log(i)}),[i]),c.a.createElement("div",{className:"commentListWrapper "+a},c.a.createElement("ul",{className:"commentList"},i.map((function(e){return c.a.createElement(O,{key:e.commentNo,comment:e})}))))}),j=a(21),w=a(104),k=a(102),C=a(105),D=Object(k.a)((function(e){return{button:{margin:e.spacing(1)}}}));function S(e){var t=D();return c.a.createElement(w.a,{variant:"contained",color:"primary",style:{background:"#100c08"},className:t.button,endIcon:c.a.createElement(C.a,null,"send"),onClick:e.click},"Send")}a(79);var M=function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.comments})),r=a.commentList.length+1,o=e.topic;r<10?r="000"+r:r<100?r="00"+r:r<1e3&&(r="0"+r);var i=Object(n.useState)("No Name"),s=Object(j.a)(i,2),p=s[0],f=s[1],h=Object(n.useState)(""),E=Object(j.a)(h,2),g=E[0],b=E[1],N=Object(n.useState)(r),x=Object(j.a)(N,2),O=x[0],y=x[1];return Object(n.useEffect)((function(){y(r)}),[a]),c.a.createElement("div",{className:"inputAreaDiv"},c.a.createElement("form",null,c.a.createElement("input",{type:"text",placeholder:"Your Name",onChange:function(e){f(e.target.value)}}),c.a.createElement("textarea",{placeholder:"Write message",onChange:function(e){b(e.target.value)},value:g,required:!0}),c.a.createElement(S,{type:"submit",click:function(e){e.preventDefault();var a=g,n=p;""===a&&(a="No Message"),""===n&&(n="No Name");var c,r,i=(new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getFullYear(),l=(new Date).getHours(),s=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes();t((c="chat-"+o,r={commentNo:O,date:i,time:l+":"+s,userName:n,message:a},function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.collection(c),e.next=3,n.add(r);case 3:t(d(r));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),b("")}})))},L=function(e){var t=e.match.params.topic;return c.a.createElement("div",{className:"Chat"},c.a.createElement("div",{className:"pageStyle"},c.a.createElement(y,{topic:t}),c.a.createElement(M,{topic:t})))},T=a(6),I=a(109),P=a(106),B=a(108),W=a(107),A=a(48),G=a.n(A),F=Object(k.a)((function(e){return{root:{flexGrow:1,position:"fixed",width:"100%",zIndex:100},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontFamily:"'Dancing Script', cursive",fontWeight:600,fontSize:"2rem"}}}));function z(){var e=Object(n.useState)("Chat Place"),t=Object(j.a)(e,2),a=t[0],r=t[1],o=F(),i=Object(l.c)((function(e){return e})),s=x(i),u=Object(T.f)();return Object(n.useEffect)((function(){return u.listen((function(e){var t=e.pathname;t="/redux-exercise"===t||"/redux-exercise/"===t||"/"===t||""===t?"Chat Place":t.slice(t.lastIndexOf("/")+1),console.log(t),r(t)}))}),[s]),c.a.createElement("div",{className:o.root},c.a.createElement(I.a,{position:"static",style:{background:"#100c08"}},c.a.createElement(P.a,null,c.a.createElement(W.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return u.push("/redux-exercise/")}},c.a.createElement(G.a,null)),c.a.createElement(B.a,{variant:"h6",className:o.title},a),c.a.createElement(w.a,{color:"inherit"},"Login"))))}var Y=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(z,null),c.a.createElement(T.c,null,c.a.createElement(T.a,{exact:!0,path:"/redux-exercise",component:i}),c.a.createElement(T.a,{path:"/redux-exercise/chat/:topic",component:L})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(23),q=a(18),H=a(50),J=a(30),R={commentList:[{commentNo:"0000",userName:"TOMO",date:"09/22/2020",time:"00:00",message:[]}]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(J.a)(Object(J.a)({},e),{},{commentList:t.payload});case f:return Object(J.a)(Object(J.a)({},e),{},{commentList:[].concat(Object(H.a)(e.commentList),[t.payload])});default:return e}},Z=Object(q.c)({comments:U}),K=[a(49).a],Q=Object(q.d)(Z,q.a.apply(void 0,K));o.a.render(c.a.createElement(l.a,{store:Q},c.a.createElement(_.a,null,c.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.b005f5d3.chunk.js.map