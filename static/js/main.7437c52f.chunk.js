(this["webpackJsonpredux-exercise"]=this["webpackJsonpredux-exercise"]||[]).push([[0],{56:function(e,t,a){e.exports=a(81)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),o=a.n(r),l=(a(61),a(62),a(14)),i=(a(63),function(e){return c.a.createElement("div",{className:"homePageDiv"},c.a.createElement("div",{className:"homePageBody"},c.a.createElement("h2",null,"Choose the Topic"),c.a.createElement("p",null,"You want to talk about"),c.a.createElement("ul",null,c.a.createElement("li",{onClick:function(){return e.history.push("/redux-exercise/chat/greeting")}},"Greeting"),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/redux-exercise/chat/food"},"Food")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/chat"},"Movie")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/chat"},"Programming")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/chat"},"Outdoor Activity")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/chat"},"Travering")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/chat"},"Romance")))))}),m=(a(68),a(15)),u=a(28),s=a.n(u),p=a(41),f="COMMENTLIST_SETUP",h="ADD_NEWCOMMENT",E=function(e){return{type:f,payload:e}},d=function(e){return{type:h,payload:e}},v=a(29),b=a.n(v);a(71),a(75);b.a.initializeApp({apiKey:"AIzaSyCIWtOYcNVbkFSc5zeTl1OD5ipu2NPmwiM",authDomain:"chat-app-8976e.firebaseapp.com",databaseURL:"https://chat-app-8976e.firebaseio.com",projectId:"chat-app-8976e",storageBucket:"chat-app-8976e.appspot.com",messagingSenderId:"622522794289",appId:"1:622522794289:web:a089a4b8f033367ac67010",measurementId:"G-Y5ZTFZ215Q"});b.a.auth();var g=b.a.firestore(),N=new b.a.auth.GoogleAuthProvider;N.setCustomParameters({prompt:"select_account"});var O=a(47),j=Object(O.a)([function(e){return e.comments}],(function(e){return e.commentList})),w=function(e){var t=e.comment;return c.a.createElement("li",null,c.a.createElement("p",{className:"commentData"},c.a.createElement("span",{className:"commentNo"},"No.",t.commentNo),c.a.createElement("span",{className:"commentName"},t.userName),c.a.createElement("span",{className:"commentDate"},t.date),c.a.createElement("span",{className:"commentTime"},t.time)),c.a.createElement("div",{className:"commentMessage"},c.a.createElement("p",null,t.message)))},x=(a(77),function(e){var t=e.topic,a=Object(m.b)(),r=Object(m.c)((function(e){return e})),o=j(r);return Object(n.useEffect)((function(){var e;a((e="chat-"+t,function(){var t=Object(p.a)(s.a.mark((function t(a,n){var c,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=g.collection(e),r=[],t.next=4,c.orderBy("commentNo").get().then((function(e){e.forEach((function(e){var t=e.data();r.push(t)}))}));case 4:a(E(r));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".commentListWrapper");e.scrollTop=e.scrollHeight,console.log(o)}),[o]),c.a.createElement("div",{className:"commentListWrapper"},c.a.createElement("ul",{className:"commentList"},o.map((function(e){return c.a.createElement(w,{key:e.commentNo,comment:e})}))))}),y=a(22),D=(a(78),function(e){var t=Object(m.b)(),a=Object(m.c)((function(e){return e.comments})),r=a.commentList.length+1,o=e.topic;r<10?r="000"+r:r<100?r="00"+r:r<1e3&&(r="0"+r);var l=Object(n.useState)("No Name"),i=Object(y.a)(l,2),u=i[0],f=i[1],h=Object(n.useState)(""),E=Object(y.a)(h,2),v=E[0],b=E[1],N=Object(n.useState)(r),O=Object(y.a)(N,2),j=O[0],w=O[1];return Object(n.useEffect)((function(){w(r)}),[a]),c.a.createElement("div",{className:"inputAreaDiv"},c.a.createElement("form",null,c.a.createElement("input",{type:"text",placeholder:"Your Name",onChange:function(e){f(e.target.value)}}),c.a.createElement("textarea",{placeholder:"Write message",onChange:function(e){b(e.target.value)},value:v,required:!0}),c.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault();var a=v,n=u;""===a&&(a="No Message"),""===n&&(n="No Name");var c,r,l=(new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getFullYear(),i=(new Date).getHours(),m=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes();t((c="chat-"+o,r={commentNo:j,date:l,time:i+":"+m,userName:n,message:a},function(){var e=Object(p.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.collection(c),e.next=3,n.add(r);case 3:t(d(r));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),b("")}},"SUBMIT")))}),C=function(e){var t=e.match.params.topic;return c.a.createElement("div",{className:"Chat"},c.a.createElement("div",{className:"pageStyle"},c.a.createElement(x,{topic:t}),c.a.createElement(D,{topic:t})))},M=a(4),k=a(101),L=a(107),S=a(103),T=a(105),I=a(106),P=a(104),B=a(48),A=a.n(B),W=Object(k.a)((function(e){return{root:{flexGrow:1,position:"fixed",width:"100%"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function G(){var e=Object(n.useState)("Chat Place"),t=Object(y.a)(e,2),a=t[0],r=t[1],o=W(),l=Object(m.c)((function(e){return e})),i=j(l),u=Object(M.f)();return Object(n.useEffect)((function(){return u.listen((function(e){var t=e.pathname;t="/"===t||""===t?"Chat Place":t.slice(t.lastIndexOf("/")+1),console.log(t),r(t)}))}),[u]),Object(n.useEffect)((function(){return u.listen((function(e){var t=e.pathname;t="/"===t||""===t?"Chat Place":t.slice(t.lastIndexOf("/")+1),console.log(t),r(t)}))}),[i]),c.a.createElement("div",{className:o.root},c.a.createElement(L.a,{position:"static",style:{background:"#100c08"}},c.a.createElement(S.a,null,c.a.createElement(P.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"menu"},c.a.createElement(A.a,null)),c.a.createElement(T.a,{variant:"h6",className:o.title},a.toUpperCase()),c.a.createElement(I.a,{color:"inherit"},"Login"))))}var Y=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(G,null),c.a.createElement(M.c,null,c.a.createElement(M.a,{exact:!0,path:"/redux-exercise",component:i}),c.a.createElement(M.a,{path:"/redux-exercise/chat/:topic",component:C})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(19),U=a(50),z=a(30),R={commentList:[{commentNo:"0000",userName:"TOMO",date:"09/22/2020",time:"00:00",message:[]}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(z.a)(Object(z.a)({},e),{},{commentList:t.payload});case h:return Object(z.a)(Object(z.a)({},e),{},{commentList:[].concat(Object(U.a)(e.commentList),[t.payload])});default:return e}},q=Object(F.c)({comments:_}),H=[a(49).a],J=Object(F.d)(q,F.a.apply(void 0,H));o.a.render(c.a.createElement(m.a,{store:J},c.a.createElement(l.a,null,c.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.7437c52f.chunk.js.map